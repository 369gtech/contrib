# Contribution guide: https://github.com/watch-devtube/contrib

# speaker:
#   name: _____
#   twitter: _____ # mandatory twitter handle; must not include @

# tags: [____, _____, _____]

tags:
    - security
    - rust
    - embedded
title: 'Making & Breaking Matrix''s E2E encryption In which we exercise the threat model for Matrix''s E2E en…'
language: English
recordingDate: 1600157182
description: "Making & Breaking Matrix's E2E encryption In which we exercise the threat model for Matrix's E2E encrypted decentralised communication\nby Matthew Hodgson\n\nAt: FOSDEM 2020\nhttps://video.fosdem.org/2020/K.1.105/matrix.webm\n\nMatrix is an open protocol and open network for decentralised real-time communication; shifting control over communication from the big proprietary silos back to the general population of the Internet. In 2016 we added E2E Encryption based on the Double Ratchet, and since then have been working away on getting the encryption so polished that we can transparently turn it on by default everywhere.  In this talk, we'll show how we have finally done this, what the blockers were, and then try to smash the encryption to pieces to illustrate the potential attacks and how we mitigate them.\n❮a href=\"https://matrix.org\"❯Matrix❮/a❯ is an ambitious project to build a open decentralised real-time communication network; providing an ❮a href=\"https://matrix.org/docs/spec\"❯open standard protocol❮/a❯ and ❮a href=\"https://matrix.org/docs/projects/try-matrix-now/\"❯open source reference implementations❮/a❯, letting anyone and everyone spin up a Matrix server and retake control of their real-time communication. Matrix is looked after by the non-profit ❮a href=\"https://matrix.org/foundation\"❯Matrix.org Foundation❮/a❯, and as of Oct 2019 we have over 11.5M addressable users and around 40K servers on the public network.\n\n\nOver the course of 2019 we spent a huge amount of time finalising Matrix's end-to-end encryption so we could finally turn it on by default without compromising any of the behaviour users had grown accustomed to in non-encrypted rooms.  Specifically, the main remaining blockers were:\n\n\n❮ul❯\n❮li❯Ability to search in E2E encrypted rooms (now solved by ❮a href=\"https://github.com/matrix-org/seshat\"❯Seshat❮/a❯: a Rust-based full-text-search engine embedded into Matrix clients)\n❮/li❯\n❮li❯Ability to get compatibility with non-E2E clients, bots and bridges (now solved by ❮a href=\"https://github.com/matrix-org/pantalaimon\"❯pantalaimon❮/a❯: a daemon which offloads E2E encryption)\n❮/li❯\n❮li❯Reworking the whole encryption UI to expose cross-signing to radically simplify key verification (including QR-code scanning for simplicity)\n❮/li❯\n❮li❯Ability to receive notifications in E2E encrypted rooms.\n❮/li❯\n❮/ul❯\n\n\nHowever, we have finally got there, and this talk will demonstrate how the final E2EE implementation works; the final problems we had to solve; the threat model we have implemented; and how we're doing on rolling it out across the whole network.  More interestingly, we will then demonstrate a variety of attacks against the encryption (e.g. shoulder-surfing QR codes during device verification; MITMing TLS; acting as a malicious server implementation; global passive adversary) to demonstrate how well we handle them.\n\nRoom: K.1.105 (La Fontaine)\nScheduled start: 2020-02-02 15:00:00"
