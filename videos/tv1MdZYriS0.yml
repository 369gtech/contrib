# Contribution guide: https://github.com/watch-devtube/contrib

# speaker:
#   name: _____
#   twitter: _____ # mandatory twitter handle; must not include @

# tags: [____, _____, _____]

title: 'FAST ''15 - RIPQ: Advanced Photo Caching on Flash for Facebook'
language: English
recordingDate: 1637617977
description: "RIPQ: Advanced Photo Caching on Flash for Facebook\n\nLinpeng Tang, Princeton University; Qi Huang, Cornell University and Facebook; Wyatt Lloyd, University of Southern California and Facebook; Sanjeev Kumar, Facebook; Kai Li, Princeton University\n\nFacebook uses flash devices extensively in its photo caching stack. The key design challenge for an efficient photo cache on flash at Facebook is its workload: many small random writes are generated by inserting cache-missed content, or updating cache-hit content for advanced caching algorithms. The Flash Translation Layer on flash devices performs poorly with such a workload, lowering throughput and decreasing device lifespan. Existing coping strategies under-utilize the space on flash devices, sacrificing cache capacity, or are limited to simple caching algorithms like FIFO, sacrificing hit ratios.\n\nWe overcome these limitations with the novel Restricted Insertion Priority Queue (RIPQ) framework that supports advanced caching algorithms with large cache sizes, high throughput, and long device lifespan. RIPQ aggregates small random writes, co-locates similarly prioritized content, and lazily moves updated content to further reduce device overhead. We show that two families of advanced caching algorithms, Segmented-LRU and Greedy-Dual-Size-Frequency, can be easily implemented with RIPQ. Our evaluation on Facebookâ€™s photo trace shows that these algorithms running on RIPQ increase hit ratios up to ~20% over the current FIFO system, incur low overhead, and achieve high throughput.\n\nView the full FAST '15 program at https://www.usenix.org/conference/fast15/technical-sessions"
