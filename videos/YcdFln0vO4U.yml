# Editing guidelines: https://github.com/watch-devtube/contrib/#how-to-edit-video-metadata


title: 'ZFS Powered Magic Upgrades Using boot environments for atomic in-place upgrades'
language: English
recordingDate: 1550136314
description: "by Allan Jude\n\nAt: FOSDEM 2019\nhttps://video.fosdem.org/2019/K.3.401/zfs_powered_magic_upgrades.webm\n\n\nDescribe a system of using ZFS Boot Environments to quickly, safely, and atomically upgrade 100s of remote machines. Overview:\n* How the file system hierarchy is modified to allow the systems to be upgraded in-place\n* How we use ZFS to create and deploy the boot environments\n* Simplifying the creation of the BEs using poudriere image\n* Extending poudriere image to support ZFS\n* Using zfsbootcfg to boot a new BE once\n* How we determine if the BE “works” and should be promoted to the default \n\nMotivation:\n* We often have only SSH access to the machines, so we needed something that could self-recover just by power cycling the machine\n* No longer need to use freebsd-update, mergemaster, or etcupdate \n\nRoom: K.3.401\nScheduled start: 2019-02-02 17:00:00+01"
