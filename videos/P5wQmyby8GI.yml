# Contribution guide: https://github.com/watch-devtube/contrib

# speaker:
#   name: _____
#   twitter: _____ # mandatory twitter handle; must not include @

# tags: [____, _____, _____]

tags:
    - containers
    - kubernetes
title: 'Optimizing Storage Assignment via Pod Scheduling Under Disturbance Factors - Kenji Morimoto, Cybozu'
language: English
recordingDate: 1607104103
description: "Don’t miss out! Join us at our upcoming event: KubeCon + CloudNativeCon Europe 2021 Virtual from May 4–7, 2021. Learn more at https://kubecon.io. The conference features presentations from developers and end users of Kubernetes, Prometheus, Envoy, and all of the other CNCF-hosted projects. \n\nOptimizing Storage Assignment via Pod Scheduling Under Disturbance Factors - Kenji Morimoto, Cybozu, Inc. \n\nFor distributed storage systems like Ceph, it is essential to allocate node-local storage devices evenly among racks or regions. This talk introduces how to automate this allocation by using the \"WaitForFirstConsumer\" volume binding mode and tuning kube-scheduler. The use of \"WaitForFirstConsumer\" translates the problem of storage allocation into that of pod scheduling. Kenji and his colleagues in Cybozu utilize the feature of Topology Spread Constraints to distribute storage pods. They found that kube-scheduler needs tuning from the default to spread pods optimally under disturbance such as CPU consuming workloads. Since kube-scheduler is being improved, the tuning method varies according to the Kubernetes version. The talk covers the tuning methods for Kubernetes 1.17, 1.18, and 1.19. By distributing storage pods among racks, they achieved fault tolerance against a full rack failure. \n\nhttps://sched.co/ekFB"
