# Contribution guide: https://github.com/watch-devtube/contrib

# speaker:
#   name: _____
#   twitter: _____ # mandatory twitter handle; must not include @

# tags: [____, _____, _____]

title: 'A full-scenario colocation of workloads based on Kubernetes - Dongdong Chen & Lingpeng Chen, Tencent'
language: English
recordingDate: 1639859203
description: "Don’t miss out! Join us at our next event: KubeCon + CloudNativeCon Europe 2022 in Valencia, Spain from May 17-20. Learn more at https://kubecon.io The conference features presentations from developers and end users of Kubernetes, Prometheus, Envoy, and all of the other CNCF-hosted projects.\n\n基于 Kubernetes 的全场景工作负载混部 | A full-scenario colocation of workloads based on Kubernetes - Dongdong Chen & Lingpeng Chen, Tencent\n\n对不同的工作负载（在线服务和离线作业）及时交错使用资源，使混部成为可能，可以有效提高资源利用率，降低成本。该讲座介绍了如何通过资源预测、资源隔离、干扰检测、离线逐出等方式，在不中断在线服务 SLO 的情况下最大限度地提高资源利用率。此外，即使用户无法提供在线服务的延迟度量，我们也可以通过 eBPF 收集内核级度量来检测干扰。所有这些技术都是建立在原生 Kubernetes 上的。托管支持多种场景，包括容器化和非容器化在线服务，以及 Kubernetes 和 Hadoop 生态系统中的离线作业。在腾讯，它已经部署了超过 40,000 台机器，拥有 2,000,000 多个核心，包括广告和 Ceph 存储等服务，利用率平均提高 15%，成本节约数亿美元。\n\nThe staggered resource usage for different workloads (i.e., online services and offline jobs) in time make the colocation possible, which can effectively improve resource utilization and reduce cost. The talk introduces how to maximize resource utilization without disrupting online services' SLO, by the way of resource prediction, resource isolation, interference detection, offline eviction, etc. What is more, even if users cannot provide online services' latency metrics, we can detect interference by collecting kernel-level metrics through eBPF. All these techniques are built on the native Kubernetes. The colocation supports multiple scenarios, including containerized and non-containerized online services, as well as offline jobs in the Kubernetes and Hadoop ecosystem. In Tencent, it has been deployed over 40,000+ machines with 2000,000+ cores, including services such as advertising and Ceph storage, with an average 15% increase in utilization and hundreds of millions in cost savings."
