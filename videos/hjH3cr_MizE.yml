# Editing guidelines: https://github.com/watch-devtube/contrib/#how-to-edit-video-metadata

category: conference
tags:
    - performance
title: 'Introducing rust-prometheus How Rust makes metrics safe and fast'
language: English
recordingDate: 1549826086
description: "by Wish Shi\n\nAt: FOSDEM 2019\nhttps://video.fosdem.org/2019/UD2.208/rust_prometheus.webm\n\n\nThis talk is to give a brief introduction to the rust-prometheus library, which is a Rust client for Prometheus, a monitoring and alerting toolkit. After a brief look at basic usage, this talk will dive into how Rust features make the library safe and fast. Finally, we will discuss some ways to use Procedural Macros to reduce metric lookup by over 10x via generated static lookups. Intended audience: Rust beginner \n\nAgenda\n\n\nIntroduction (5 min)\n\n\nSelf introduction\nWhat is Rust-Prometheus: A brief introduction to Prometheus and the client library\nHow to use: A short example of using the library to collect different kind of metrics\n\n\nHow Rust Shines\n\n\nSafe (5 min)\n\n\nWhy we care about safety\nType-safe generic labels: Use generic label length so that label length can be checked at compile time.\nRust’s Send &amp; Sync markers\nRust’s #[must_use] attribute\n\n\nFast (5 min)\n\n\nWhy we care about performance\nLocal !Sync metrics: Shared global metrics across threads is not efficient, e.g. causing cache eviction. Local metrics to solve under the cost of normal variables!\nStatic metric vectors via proc_macros: A macro to provide efficient metric vectors.\n\n\n\n\nHow static metric macro is implemented (10 min)\n\n\nA small explanation of the macro implementation so that listeners will have a blueprint about the capability and the approach of Rust procedural macros.\nBenchmarks showing speed difference.\n\n\nFuture Plan (2 min)\n\n\nThread-local metrics: Enables seamlessly local metrics and less contention\nMore metrics, like Prometheus Summary\nA more consistent API\nMetrics pulling\nContributions are welcome!\n\n\nProduction Use Case (5 min)\n\n\n\nRoom: UD2.208 (Decroly)\nScheduled start: 2019-02-03 12:30:00+01"
