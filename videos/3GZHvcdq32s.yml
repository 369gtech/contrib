# Editing guidelines: https://github.com/watch-devtube/contrib/#how-to-edit-video-metadata

tags:
    - storage
    - c++
    - testing
    - craftsmanship
title: 'CppCon 2019: Clare Macrae “Quickly Testing Legacy C++ Code with Approval Tests”'
language: English
recordingDate: 1571382000
description: "http://CppCon.org\n—\nDiscussion & Comments: https://www.reddit.com/r/cpp/\n—\nPresentation Slides, PDFs, Source Code and other presenter materials are available at: https://github.com/CppCon/CppCon2019\n—\nYou've inherited some legacy code: it's valuable, but it doesn't have tests, and it wasn't designed to be testable, so you need to start refactoring. But you can't refactor safely until the code has tests, and you can't add tests without refactoring! How can you ever break out of this loop?\n\nWhether Legacy code for you means \"old code\", \"code without tests\", or \"code you wish to redesign for new features or unit-tests\", this talk will enable you to become productive and work safely, quickly.\n\nThe simplicity, convenience, ease-of-use, power and flexibility of Llewellyn Falco's \"Approval Tests\" approach has long been proven in a dozen programming languages. And now all this is now available to C++ developers too!\n\nClare will present a small but surprisingly effective C++11 library for applying \"Approval Tests\" to cross-platform C++ code - for both legacy and green-field systems, and with a range of testing frameworks.\n\nShe will describe its use in some real-world situations, including how to quickly lock down the behaviour of legacy code. She will show how to quickly achieve good test coverage, even for very large sets of inputs. Finally, she will describe some general techniques she learned along the way.\n\nAttendees will discover some quick, practical techniques to use for common challenges, such as testing outputs containing dates and times, that can be applied very easily using Approval Tests.\n— \nClare Macrae Consulting Ltd\nDirector\n\nClare has worked in software development for over 30 years, and in C++ for 20 years. \n\nSince 2017, she has used her spare time to work remotely with Llewellyn Falco on\_[ApprovalTests.cpp](https://github.com/approvals/ApprovalTests.cpp), to radically simplify testing of legacy code. She has enjoyed this so much that she recently went independent, to focus even more on helper others work more easily with legacy code. \n\nClare was until recently a Principal Scientific Software Engineer at Cambridge Crystallographic Data Centre, which releases data and powerful software for scientific education, research, and streamlining the design and manufacture of new medicines. \n\nFrom 2016 to 2018, she lead the team that replaced their 30 year old database format and Fortran code. She then returned to C++ and Qt, working on the popular 3D crystal structure visualisation program\_[Mercury](https://www.ccdc.cam.ac.uk/mercury/), which she was the original author of. \n\nWhen not thinking about supporting teams to streamline development, testing and releases, she spends time with family and friends, and enjoys the Raspberry Pi, folk music and cinema. \n—\nVideos Filmed & Edited by Bash Films: http://www.BashFilms.com"
