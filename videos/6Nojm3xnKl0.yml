# Contribution guide: https://github.com/watch-devtube/contrib

# speaker:
#   name: _____
#   twitter: _____ # mandatory twitter handle; must not include @

# tags: [____, _____, _____]

title: 'Graduated Project Lightning Talk: Time to Live (TTL) Support for TiKV - Bokang Zhang'
language: English
recordingDate: 1621017479
description: "Don’t miss out! Join us at our upcoming event: KubeCon + CloudNativeCon North America 2021 in Los Angeles, CA from October 12-15. Learn more at https://kubecon.io The conference features presentations from developers and end users of Kubernetes, Prometheus, Envoy, and all of the other CNCF-hosted projects.\n\nGraduated Project Lightning Talk: Time to Live (TTL) Support for TiKV - Bokang Zhang\n\nTime to live (TTL) is a beneficial feature for developers to invalidate keys automatically. RocksDB supports TTL natively but with a limitation that all keys should be of the same TTL. This may cause inconvenience for developers who may have the demand to set different TTL for each key. This issue happens to TiKV, a distributed key value database built on RocksDB with Raft. To solve it, TiKV team achieved more flexible TTL support in TiKV level instead of using RocksDB’s TTL. In this talk, Bokang Zhang will walk through the TiKV architecture and talk about how they supported TTL in TiKV by leveraging the hook of RocksDB’s compaction filter and user defined properties, and how they made the disk space of TTL key-values recycled in time."
